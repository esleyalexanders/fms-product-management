<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manage Roles - Manage Team</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../home-styles.css">
    <style>
        .roles-container { background:#fff; border-radius:8px; padding:24px; }
        .roles-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:24px; }
        .roles-table { width:100%; border-collapse:collapse; margin-top:24px; background:#fff; border-radius:8px; overflow:hidden; }
        .roles-table th, .roles-table td { padding:12px 16px; border-bottom:1px solid #e6e9ee; text-align:left; }
        .roles-table th { background:#f3f4f6; font-weight:500; color:#374151; }
        .roles-table tr:last-child td { border-bottom:none; }
        .role-name { font-weight:500; color:#111827; }
        .role-description { color:#6b7280; font-size:14px; }
        .permissions-list { display:flex; flex-wrap:wrap; gap:4px; }
        .permission-tag { background:#e0e7ff; color:#3730a3; padding:2px 8px; border-radius:12px; font-size:12px; }
        .btn-primary, .btn-secondary { font-family:inherit; font-size:15px; border-radius:6px; padding:8px 16px; border:none; cursor:pointer; }
        .btn-primary { background:#6366f1; color:#fff; }
        .btn-secondary { background:#e5e7eb; color:#374151; }
        .modal { display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(0,0,0,0.18); align-items:center; justify-content:center; z-index:1000; }
        .modal.active { display:flex; }
        .modal-content { background:#fff; border-radius:10px; padding:32px 24px; min-width:500px; max-width:90vw; box-shadow:0 4px 24px rgba(0,0,0,0.08); max-height:90vh; overflow-y:auto; }
        .modal-header { font-size:20px; font-weight:600; margin-bottom:18px; }
        .modal-actions { display:flex; gap:12px; margin-top:24px; }
        .form-group { margin-bottom:16px; }
        .form-group label { display:block; font-size:15px; margin-bottom:8px; color:#374151; font-weight:500; }
        .form-group input, .form-group select, .form-group textarea { width:100%; padding:10px 12px; border:1px solid #d1d5db; border-radius:6px; font-size:15px; }
        .permissions-grid { display:grid; grid-template-columns:repeat(auto-fit, minmax(200px, 1fr)); gap:16px; margin-top:16px; }
        .permission-group { border:1px solid #e5e7eb; border-radius:6px; padding:16px; }
        .permission-group h4 { margin:0 0 12px 0; font-size:16px; color:#374151; }
        .permission-item { display:flex; align-items:center; gap:8px; margin-bottom:8px; }
        .permission-item:last-child { margin-bottom:0; }
        .sidebar .nav-item.manage-team-link { background:#eef2ff; color:#6366f1; font-weight:600; }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <i class="fas fa-store"></i>
                    <div class="logo-text-wrapper">
                        <span class="logo-text" id="storeName">My Store</span>
                    </div>
                </div>
            </div>
            <div class="sidebar-nav">
                <div class="nav-section-label">MAIN</div>
                <a href="../home.html" class="nav-item" style="text-decoration: none; color: inherit;"><i class="fas fa-home"></i><span>Home</span></a>
                <a href="../quotes.html" class="nav-item" style="text-decoration: none; color: inherit;"><i class="fas fa-file-contract"></i><span>Quotes</span></a>
                <a href="../tenant_schedule.html" class="nav-item" style="text-decoration: none; color: inherit;"><i class="fas fa-calendar-alt"></i><span>Schedule</span></a>
                <a href="manage-team.html" class="nav-item manage-team-link" style="text-decoration: none; color: inherit;"><i class="fas fa-users"></i><span>Manage team</span></a>
                <a href="../admin/pricebook.html" class="nav-item" style="text-decoration: none; color: inherit;"><i class="fas fa-book"></i><span>My pricebook</span></a>
                <a href="../Customer Management/customer-list.html" class="nav-item" style="text-decoration: none; color: inherit;"><i class="fas fa-user-friends"></i><span>Customers</span></a>
            <div class="sidebar-footer">
                <div class="nav-item">
                    <i class="fas fa-question-circle"></i>
                    <span>Get Set Up</span>
                </div>
                <div class="nav-item">
                    <i class="fas fa-cog"></i>
                    <span>Settings</span>
                </div>
            </div>
        </nav>
        <!-- Main Content Area -->
        <main class="main-content">
            <header class="top-header">
                <div class="header-left">
                    <h1 class="page-title">Manage Roles</h1>
                    <p class="page-subtitle">Configure roles and permissions for your team</p>
                </div>
                <div class="header-right">
                    <a href="manage-team.html" style="text-decoration:none;"><button class="btn-secondary"><i class="fas fa-arrow-left"></i> Back to Team</button></a>
                </div>
            </header>
            <div class="content-wrapper">
                <div class="roles-container">
                    <div class="roles-header">
                        <div>
                            <h2 style="margin:0; font-size:24px;">Team Roles</h2>
                            <p style="margin:4px 0 0 0; color:#6b7280;">Define roles and assign permissions to control access</p>
                        </div>
                        <button class="btn-primary" id="addRoleBtn"><i class="fas fa-plus"></i> Add Role</button>
                    </div>

                    <table class="roles-table" id="rolesTable">
                        <thead>
                            <tr>
                                <th>Role Name</th>
                                <th>Description</th>
                                <th>Permissions</th>
                                <th>Staff Count</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <div class="role-name">Manager</div>
                                </td>
                                <td>
                                    <div class="role-description">Full system access and management capabilities</div>
                                </td>
                                <td>
                                    <div class="permissions-list">
                                        <span class="permission-tag">All Access</span>
                                    </div>
                                </td>
                                <td>3</td>
                                <td>
                                    <button class="btn-secondary" style="font-size:14px; padding:6px 12px;" onclick="editRole('manager')">Edit</button>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="role-name">Staff</div>
                                </td>
                                <td>
                                    <div class="role-description">General staff members including technicians, receptionists, and field workers</div>
                                </td>
                                <td>
                                    <div class="permissions-list">
                                        <span class="permission-tag">View Jobs</span>
                                        <span class="permission-tag">Update Status</span>
                                        <span class="permission-tag">View Schedule</span>
                                    </div>
                                </td>
                                <td>8</td>
                                <td>
                                    <button class="btn-secondary" style="font-size:14px; padding:6px 12px;" onclick="editRole('staff')">Edit</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </main>
    </div>

    <!-- Add/Edit Role Modal -->
    <div class="modal" id="roleModal">
        <div class="modal-content">
            <div class="modal-header" id="modalTitle">Add New Role</div>
            <form id="roleForm">
                <div class="form-group">
                    <label for="roleName">Role Name *</label>
                    <input type="text" id="roleName" required>
                </div>
                <div class="form-group">
                    <label for="roleDescription">Description</label>
                    <textarea id="roleDescription" rows="3"></textarea>
                </div>

                <div style="margin-top:24px;">
                    <h3 style="margin:0 0 16px 0; font-size:18px;">Permissions</h3>
                    <div class="permissions-grid">
                        <div class="permission-group">
                            <h4>Staff Management</h4>
                            <div class="permission-item">
                                <input type="checkbox" id="perm_view_staff" checked>
                                <label for="perm_view_staff">View Staff</label>
                            </div>
                            <div class="permission-item">
                                <input type="checkbox" id="perm_create_staff">
                                <label for="perm_create_staff">Create Staff</label>
                            </div>
                            <div class="permission-item">
                                <input type="checkbox" id="perm_edit_staff">
                                <label for="perm_edit_staff">Edit Staff</label>
                            </div>
                            <div class="permission-item">
                                <input type="checkbox" id="perm_delete_staff">
                                <label for="perm_delete_staff">Delete Staff</label>
                            </div>
                        </div>

                        <div class="permission-group">
                            <h4>Schedule Management</h4>
                            <div class="permission-item">
                                <input type="checkbox" id="perm_view_schedule" checked>
                                <label for="perm_view_schedule">View Schedule</label>
                            </div>
                            <div class="permission-item">
                                <input type="checkbox" id="perm_edit_schedule">
                                <label for="perm_edit_schedule">Edit Schedule</label>
                            </div>
                            <div class="permission-item">
                                <input type="checkbox" id="perm_assign_jobs">
                                <label for="perm_assign_jobs">Assign Jobs</label>
                            </div>
                        </div>

                        <div class="permission-group">
                            <h4>Quote Management</h4>
                            <div class="permission-item">
                                <input type="checkbox" id="perm_view_quotes" checked>
                                <label for="perm_view_quotes">View Quotes</label>
                            </div>
                            <div class="permission-item">
                                <input type="checkbox" id="perm_create_quotes">
                                <label for="perm_create_quotes">Create Quotes</label>
                            </div>
                            <div class="permission-item">
                                <input type="checkbox" id="perm_edit_quotes">
                                <label for="perm_edit_quotes">Edit Quotes</label>
                            </div>
                        </div>

                        <div class="permission-group">
                            <h4>Customer Management</h4>
                            <div class="permission-item">
                                <input type="checkbox" id="perm_view_customers" checked>
                                <label for="perm_view_customers">View Customers</label>
                            </div>
                            <div class="permission-item">
                                <input type="checkbox" id="perm_create_customers">
                                <label for="perm_create_customers">Create Customers</label>
                            </div>
                            <div class="permission-item">
                                <input type="checkbox" id="perm_edit_customers">
                                <label for="perm_edit_customers">Edit Customers</label>
                            </div>
                        </div>

                        <div class="permission-group">
                            <h4>Reports & Analytics</h4>
                            <div class="permission-item">
                                <input type="checkbox" id="perm_view_reports">
                                <label for="perm_view_reports">View Reports</label>
                            </div>
                            <div class="permission-item">
                                <input type="checkbox" id="perm_export_data">
                                <label for="perm_export_data">Export Data</label>
                            </div>
                        </div>

                        <div class="permission-group">
                            <h4>System Administration</h4>
                            <div class="permission-item">
                                <input type="checkbox" id="perm_manage_roles">
                                <label for="perm_manage_roles">Manage Roles</label>
                            </div>
                            <div class="permission-item">
                                <input type="checkbox" id="perm_system_settings">
                                <label for="perm_system_settings">System Settings</label>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="modal-actions">
                    <button type="button" class="btn-secondary" id="cancelRoleBtn">Cancel</button>
                    <button type="submit" class="btn-primary" id="saveRoleBtn">Save Role</button>
                </div>
            </form>
        </div>
    </div>

    <script src="manage-team-roles-script.js"></script>
</body>
</html>